{% extends "base.html" %}
{% block head %}
<title>Chart Data</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
{% endblock %}

{% block content %}
<h1>Test Page</h1>
<canvas id="chartypants" height="400px" width="1000px"></canvas>
<script>
  function makeChart(){
    titles = [ {% for item in labels %} "{{ item }}", {% endfor %} ];
    nums1 = [ {% for item in vals1 %} "{{ item }}", {% endfor %} ];
    nums2 = [ {% for item in vals2 %} "{{ item }}", {% endfor %} ];
    nums3 = [ {% for item in vals3 %} "{{ item }}", {% endfor %} ];
    max = {{ max }};
    min = {{ min }}
    steps = {{ steps }};

    var ctx = document.getElementById('chartypants').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: titles,
        datasets: [
              {
                label: 'Data 1',
                backgroundColor: 'gold',
                borderColor: '#214',
                data: nums1
              },
              {
                label: 'Data 2',
                backgroundColor: 'purple',
                borderColor: '#214',
                data: nums2
              },
              {
                label: 'Data 3',
                backgroundColor: 'green',
                borderColor: '#214',
                data: nums3
              }
        ]
      },
      options: {
        responsive: false,
        scales: {
          yAxes: [{
            ticks: {
              max: max,
              min: min,
              stepSize: steps
            }
          }]
        }
      }
    });
    Chart.defaults.global.defaultFontColor = '#eee';
  }
  makeChart();
</script>
{% endblock %}







<h1>Proof of Life Chart</h1>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<canvas id="chart" width="600" height="400"></canvas>
<script>
  var barData = {
  labels : ["January", "February", "March", "April", "May", "June", "July", "August"],
  datasets : [
     {
           fillColor: "rgba(151,187,205,0.2)",
           strokeColor: "rgba(151,187,205,1)",
           pointColor: "rgba(151,187,205,1)",
           data : [10, 9, 8, 7, 6, 4, 7, 8]
     }
     ]
  }
  var mychart = document.getElementById("chart").getContext("2d");
  steps = 10
  max = 10
  new Chart(mychart).Bar(barData, {
       scaleOverride: true,
       scaleSteps: steps,
       scaleStepWidth: Math.ceil(max / steps),
       scaleStartValue: 0,
       scaleShowVerticalLines: true,
       scaleShowGridLines : true,
       barShowStroke : true,
       scaleShowLabels: true
  });
</script>
